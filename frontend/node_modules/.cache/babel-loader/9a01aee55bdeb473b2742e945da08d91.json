{"ast":null,"code":"var _jsxFileName = \"/home/seungchan/Desktop/Projs/graduation-project/frontend/src/views/dashboard/DataInterface.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { proxyAddr } from './ProxyAddr';\nimport { CButton, CCard, CCardBody, CCardFooter, CProgress, CCol, CRow, CImage, CSpinner, CFormInput, CInputGroup } from '@coreui/react';\naxios.defaults.withCredentials = true;\nimport CIcon from '@coreui/icons-react';\nimport { cibTwitter, cilUser, cilMagnifyingGlass } from '@coreui/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar arr_posts;\nvar search_keyword = \"\";\nexport const DrawChart = () => {\n  _s();\n\n  const [keywdBtn, setKeywdBtn] = useState({\n    disabledInput: false,\n    disabledBtn: false,\n    text: 'submit'\n  });\n  const [posts, setPosts] = useState([]);\n  const [x, getX] = useState([]);\n  const url = proxyAddr();\n\n  const toggleKeyword = () => {\n    if (keywdBtn.disabledInput) {\n      return /*#__PURE__*/_jsxDEV(CSpinner, {\n        component: \"span\",\n        size: \"sm\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n  };\n\n  const keywordInputOnchangeHandler = event => {\n    search_keyword = event.target.value;\n    console.log(`Input changed: ${search_keyword}`);\n  };\n\n  const keywordBtnClickhandler = event => {\n    if (search_keyword !== \"\") {\n      setKeywdBtn({\n        disabledInput: true,\n        disabledBtn: true,\n        text: 'Loading..'\n      });\n      console.log(search_keyword);\n      axios.get(`${url}meme`, {\n        params: {\n          message: search_keyword\n        } // message: search_keyword\n\n      }).then(response => {\n        console.log('get response');\n        console.log(response.data);\n        arr_posts = response.data.result;\n        setPosts(arr_posts); // const flow = response.data.datasets\n        // getFlow(flow)\n        // const x_label = response.data.labels\n        // getX(x_label)\n        // arr_posts = response.data.posts;\n\n        setKeywdBtn({\n          disabledInput: false,\n          disabledBtn: false,\n          text: 'submit'\n        });\n      }).catch(error => console.error(`keyword Search Error: ${error}`));\n    }\n\n    console.log('keywordBtn Clicked!');\n  }; // const postVisualize = () => {\n  //   setPosts\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(CCard, {\n    className: \"mb-4\",\n    children: [/*#__PURE__*/_jsxDEV(CButton, {\n      color: \"warning\",\n      onClick: () => window.open('http://ark10806.iptime.org:6006'),\n      className: \"d-grid gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(CIcon, {\n        icon: cilMagnifyingGlass\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), \"3D Plot : Visualize Clusters\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CCardFooter, {\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uBA54\\uC2DC\\uC9C0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CInputGroup, {\n        children: [/*#__PURE__*/_jsxDEV(CFormInput, {\n          disabled: keywdBtn.disabledInput,\n          onChange: keywordInputOnchangeHandler,\n          placeholder: \"Search twit by your own keyword (ex. vaccination for covid-19.)\",\n          \"aria-label\": \"Recipient's username with two button addons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CButton, {\n          disabled: keywdBtn.disabledBtn,\n          onClick: keywordBtnClickhandler,\n          type: \"button\",\n          color: \"secondary\",\n          variant: \"outline\",\n          children: [toggleKeyword(), keywdBtn.text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CCardBody, {\n      children: [/*#__PURE__*/_jsxDEV(CRow, {\n        children: [/*#__PURE__*/_jsxDEV(CCol, {\n          sm: 5,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            id: \"traffic\",\n            className: \"card-title mb-0\",\n            children: \"Trends\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small text-medium-emphasis\",\n            children: \"January - December 2021\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small text-medium-emphasis\",\n            children: \"\\uAC01 \\uD074\\uB7EC\\uC2A4\\uD130\\uB294 \\uC704\\uC758 3D Plotly \\uBC84\\uD2BC\\uC744 \\uD1B5\\uD574 \\uC2DC\\uAC01\\uC801\\uC73C\\uB85C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CCol, {\n          sm: 7,\n          className: \"d-none d-md-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), posts.map((item, index) => /*#__PURE__*/_jsxDEV(CRow, {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CCol, {\n          children: /*#__PURE__*/_jsxDEV(CImage, {\n            rounded: true,\n            thumbnail: true,\n            src: item.image_url,\n            width: \"500vw\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 19\n          }, this)\n        }, \"0\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CCol, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-start border-start-4 border-start-danger py-1 px-3 mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: item.similarity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-group-header\",\n              children: [/*#__PURE__*/_jsxDEV(CIcon, {\n                className: \"me-2\",\n                icon: cilUser,\n                size: \"lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Cluster Similarity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ms-auto fw-semibold\",\n                children: [parseInt(item.similarity * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-group-bars\",\n              children: /*#__PURE__*/_jsxDEV(CProgress, {\n                thin: true,\n                color: \"success\",\n                value: parseInt(item.similarity * 100)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CButton, {\n            color: \"#00aced\",\n            onClick: () => window.open(item.posturl),\n            className: \"float-end\",\n            children: [/*#__PURE__*/_jsxDEV(CIcon, {\n              icon: cibTwitter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 19\n            }, this), \"see post\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 17\n          }, this)]\n        }, \"1\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 7\n  }, this);\n};\n\n_s(DrawChart, \"9mjxVi44gbAaz5BBQZ7n+BCGXBI=\");\n\n_c = DrawChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"DrawChart\");","map":{"version":3,"sources":["/home/seungchan/Desktop/Projs/graduation-project/frontend/src/views/dashboard/DataInterface.js"],"names":["React","useState","useRef","axios","proxyAddr","CButton","CCard","CCardBody","CCardFooter","CProgress","CCol","CRow","CImage","CSpinner","CFormInput","CInputGroup","defaults","withCredentials","CIcon","cibTwitter","cilUser","cilMagnifyingGlass","arr_posts","search_keyword","DrawChart","keywdBtn","setKeywdBtn","disabledInput","disabledBtn","text","posts","setPosts","x","getX","url","toggleKeyword","keywordInputOnchangeHandler","event","target","value","console","log","keywordBtnClickhandler","get","params","message","then","response","data","result","catch","error","window","open","map","item","index","image_url","similarity","parseInt","posturl"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\nimport axios from 'axios'\nimport {proxyAddr}  from './ProxyAddr'\n\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CProgress,\n  CCol,\n  CRow,\n  CImage,\n  CSpinner,\n  CFormInput,\n  CInputGroup,\n} from '@coreui/react'\naxios.defaults.withCredentials = true;\n\n\nimport CIcon from '@coreui/icons-react'\nimport {\n  cibTwitter,\n  cilUser,\n  cilMagnifyingGlass,\n} from '@coreui/icons'\n\n\nvar arr_posts;\nvar search_keyword = \"\";\n\nexport const DrawChart = () => {\n  const [keywdBtn, setKeywdBtn] = useState({disabledInput: false, disabledBtn: false, text: 'submit'})\n  const [posts, setPosts] = useState([])\n  const [x, getX] = useState([])\n  const url = proxyAddr()\n\n  const toggleKeyword = () => {\n    if (keywdBtn.disabledInput){\n      return (\n        <CSpinner component=\"span\" size=\"sm\" aria-hidden=\"true\"/>\n      )\n    }\n    else{\n      return (\n        <></>\n      )\n    }\n  }\n\n  const keywordInputOnchangeHandler = (event) => {\n    search_keyword = event.target.value;\n    console.log(`Input changed: ${search_keyword}`)\n  }\n\n  const keywordBtnClickhandler = (event) => {\n    if (search_keyword !== \"\"){\n      setKeywdBtn({disabledInput: true, disabledBtn: true, text: 'Loading..'})\n      console.log(search_keyword);\n      axios\n      .get(`${url}meme`, {\n        params: {\n          message: search_keyword\n        },\n        // message: search_keyword\n      })\n      .then((response) => {\n        console.log('get response')\n        console.log(response.data)\n        arr_posts = response.data.result\n        setPosts(arr_posts)\n        // const flow = response.data.datasets\n        // getFlow(flow)\n\n        // const x_label = response.data.labels\n        // getX(x_label)\n\n        // arr_posts = response.data.posts;\n        setKeywdBtn({disabledInput: false, disabledBtn: false, text: 'submit'})\n    })\n      .catch((error) => console.error(`keyword Search Error: ${error}`))\n    }\n    console.log('keywordBtn Clicked!')\n\n  }\n\n  // const postVisualize = () => {\n  //   setPosts\n  // }\n\n\n\n  return (\n      <CCard className=\"mb-4\">\n      <CButton color=\"warning\" onClick={() => window.open('http://ark10806.iptime.org:6006')} className=\"d-grid gap-2\">\n        <CIcon icon={cilMagnifyingGlass} />3D Plot : Visualize Clusters\n      </CButton>\n        <CCardFooter>\n            <hr/>\n          <div>메시지</div>\n\n            <CInputGroup>\n              <CFormInput disabled={keywdBtn.disabledInput} onChange={keywordInputOnchangeHandler} placeholder=\"Search twit by your own keyword (ex. vaccination for covid-19.)\" aria-label=\"Recipient's username with two button addons\"/>\n              <CButton disabled={keywdBtn.disabledBtn} onClick={keywordBtnClickhandler} type=\"button\" color=\"secondary\" variant=\"outline\">{toggleKeyword()}{keywdBtn.text}</CButton>\n            </CInputGroup>\n          {/* </CRow> */}\n\n        </CCardFooter>\n        <CCardBody>\n          <CRow>\n            <CCol sm={5}>\n              <h4 id=\"traffic\" className=\"card-title mb-0\">\n                Trends\n              </h4>\n              <div className=\"small text-medium-emphasis\">January - December 2021</div>\n              <div className=\"small text-medium-emphasis\">각 클러스터는 위의 3D Plotly 버튼을 통해 시각적으로 확인할 수 있습니다.</div>\n            </CCol>\n            <CCol sm={7} className=\"d-none d-md-block\">\n            </CCol>\n          </CRow>\n\n          <br/>\n          {posts.map((item, index) => (\n            <CRow key={index}>\n              <br/>\n              <hr/>\n              <br/>\n              <CCol key=\"0\">\n                  <CImage rounded thumbnail src={item.image_url} width='500vw' />\n              </CCol>\n              <CCol key=\"1\">\n                <div className=\"border-start border-start-4 border-start-danger py-1 px-3 mb-3\">\n                  <div>{item.similarity}</div>\n                </div>\n                <div className=\"progress-group mb-4\">\n                  <div className=\"progress-group-header\">\n                    <CIcon className=\"me-2\" icon={cilUser} size=\"lg\" />\n                    <span>Cluster Similarity</span>\n                    <span className=\"ms-auto fw-semibold\">{parseInt(item.similarity*100)}%</span>\n                  </div>\n                  <div className=\"progress-group-bars\">\n                    <CProgress thin color=\"success\" value={parseInt(item.similarity*100)} />\n                  </div>\n                </div>\n                <CButton color=\"#00aced\" onClick={() => window.open(item.posturl)} className=\"float-end\">\n                  <CIcon icon={cibTwitter} />see post\n                </CButton>\n              </CCol>\n              <br/>\n            </CRow>\n          ))}\n\n        </CCardBody>\n      </CCard>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}