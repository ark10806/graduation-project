{"ast":null,"code":"var _jsxFileName = \"/home/seungchan/Desktop/Projs/graduation-project/frontend/src/views/dashboard/DataInterface.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { proxyAddr } from './ProxyAddr';\nimport { CButton, CCard, CCardBody, CCardFooter, CProgress, CCol, CRow, CImage, CSpinner, CFormInput, CInputGroup } from '@coreui/react';\naxios.defaults.withCredentials = true;\nimport CIcon from '@coreui/icons-react';\nimport { cibTwitter, cilUser, cilMagnifyingGlass } from '@coreui/icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChart.register(...registerables);\nvar arr_posts;\nvar search_keyword = \"\";\nexport const DrawChart = () => {\n  _s();\n\n  const [keywdBtn, setKeywdBtn] = useState({\n    disabledInput: false,\n    disabledBtn: false,\n    text: 'submit'\n  });\n  const [posts, setPosts] = useState([]);\n  const [x, getX] = useState([]);\n  const [btnColor, setColor] = useState(btnColors);\n  const url = proxyAddr();\n  const chartRef = useRef();\n\n  const keywordInputOnchangeHandler = event => {\n    search_keyword = event.target.value;\n    console.log(`Input changed: ${search_keyword}`);\n  };\n\n  const keywordBtnClickhandler = event => {\n    if (search_keyword !== \"\") {\n      setKeywdBtn({\n        disabledInput: true,\n        disabledBtn: true,\n        text: 'Loading..'\n      });\n      console.log(search_keyword);\n      axios.get(`${url}keyword-search/get`, {\n        params: {\n          start_date: start_date,\n          end_date: end_date,\n          keyword: search_keyword\n        }\n      }).then(response => {\n        console.log('get response');\n        const flow = response.data.datasets;\n        getFlow(flow);\n        const x_label = response.data.labels;\n        getX(x_label);\n        arr_posts = response.data.posts;\n        setKeywdBtn({\n          disabledInput: false,\n          disabledBtn: false,\n          text: 'submit'\n        });\n      }).catch(error => console.error(`keyword Search Error: ${error}`));\n    }\n\n    console.log('keywordBtn Clicked!');\n  };\n\n  return /*#__PURE__*/_jsxDEV(CCard, {\n    className: \"mb-4\",\n    children: [/*#__PURE__*/_jsxDEV(CButton, {\n      color: \"warning\",\n      onClick: () => window.open('http://ark10806.iptime.org:6006'),\n      className: \"d-grid gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(CIcon, {\n        icon: cilMagnifyingGlass\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), \"3D Plot : Visualize Clusters\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CCardFooter, {\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uD0A4\\uC6CC\\uB4DC\\uB294 \\uC9E7\\uC740 \\uB2E8\\uC5B4 \\\"Trump\\\" \\uB300\\uC2E0 \\\"Donald Trump the president of United States\\\" \\uAC19\\uC774 \\uBB38\\uC7A5\\uC73C\\uB85C \\uC81C\\uACF5\\uD560 \\uB54C \\uC88B\\uC740 \\uAC80\\uC0C9 \\uC131\\uB2A5\\uC744 \\uBCF4\\uC785\\uB2C8\\uB2E4.  \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CInputGroup, {\n        children: [/*#__PURE__*/_jsxDEV(CFormInput, {\n          disabled: keywdBtn.disabledInput,\n          onChange: keywordInputOnchangeHandler,\n          placeholder: \"Search twit by your own keyword (ex. vaccination for covid-19.)\",\n          \"aria-label\": \"Recipient's username with two button addons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CButton, {\n          disabled: keywdBtn.disabledBtn,\n          onClick: keywordBtnClickhandler,\n          type: \"button\",\n          color: \"secondary\",\n          variant: \"outline\",\n          children: [toggleKeyword(), keywdBtn.text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CCardBody, {\n      children: [/*#__PURE__*/_jsxDEV(CRow, {\n        children: [/*#__PURE__*/_jsxDEV(CCol, {\n          sm: 5,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            id: \"traffic\",\n            className: \"card-title mb-0\",\n            children: \"Trends\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small text-medium-emphasis\",\n            children: \"January - December 2021\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small text-medium-emphasis\",\n            children: \"\\uADF8\\uB798\\uD504\\uC758 \\uAC01 \\uC9C0\\uC810\\uC744 \\uD074\\uB9AD\\uD558\\uC5EC \\uAD00\\uB828 \\uD3EC\\uC2A4\\uD2B8\\uB4E4\\uC744 \\uD655\\uC778\\uD558\\uC2E4 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small text-medium-emphasis\",\n            children: \"\\uAC01 \\uD074\\uB7EC\\uC2A4\\uD130\\uC758 \\uBC94\\uB840(legend)\\uB97C \\uD074\\uB9AD\\uD558\\uC5EC \\uC77C\\uBD80 \\uD074\\uB7EC\\uC2A4\\uD130\\uB97C \\uBCF4\\uC774\\uC9C0 \\uC54A\\uAC8C \\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small text-medium-emphasis\",\n            children: \"\\uAC01 \\uD074\\uB7EC\\uC2A4\\uD130\\uB294 \\uC704\\uC758 3D Plotly \\uBC84\\uD2BC\\uC744 \\uD1B5\\uD574 \\uC2DC\\uAC01\\uC801\\uC73C\\uB85C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CCol, {\n          sm: 7,\n          className: \"d-none d-md-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), posts.map((item, index) => /*#__PURE__*/_jsxDEV(CRow, {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CCol, {\n          children: /*#__PURE__*/_jsxDEV(CImage, {\n            rounded: true,\n            thumbnail: true,\n            src: item.image,\n            width: \"500vw\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 19\n          }, this)\n        }, \"0\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CCol, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-start border-start-4 border-start-danger py-1 px-3 mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: item.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-group mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-group-header\",\n              children: [/*#__PURE__*/_jsxDEV(CIcon, {\n                className: \"me-2\",\n                icon: cilUser,\n                size: \"lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Cluster Similarity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ms-auto fw-semibold\",\n                children: [parseInt(item.similarity * 100), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-group-bars\",\n              children: /*#__PURE__*/_jsxDEV(CProgress, {\n                thin: true,\n                color: \"success\",\n                value: parseInt(item.similarity * 100)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CButton, {\n            color: \"#00aced\",\n            onClick: () => window.open(item.posturl),\n            className: \"float-end\",\n            children: [/*#__PURE__*/_jsxDEV(CIcon, {\n              icon: cibTwitter\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, this), \"see post\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, this)]\n        }, \"1\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 7\n  }, this);\n};\n\n_s(DrawChart, \"IIRM7G3wFAOBafaDQMiyl77TVuo=\");\n\n_c = DrawChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"DrawChart\");","map":{"version":3,"sources":["/home/seungchan/Desktop/Projs/graduation-project/frontend/src/views/dashboard/DataInterface.js"],"names":["React","useState","useRef","axios","proxyAddr","CButton","CCard","CCardBody","CCardFooter","CProgress","CCol","CRow","CImage","CSpinner","CFormInput","CInputGroup","defaults","withCredentials","CIcon","cibTwitter","cilUser","cilMagnifyingGlass","Chart","register","registerables","arr_posts","search_keyword","DrawChart","keywdBtn","setKeywdBtn","disabledInput","disabledBtn","text","posts","setPosts","x","getX","btnColor","setColor","btnColors","url","chartRef","keywordInputOnchangeHandler","event","target","value","console","log","keywordBtnClickhandler","get","params","start_date","end_date","keyword","then","response","flow","data","datasets","getFlow","x_label","labels","catch","error","window","open","toggleKeyword","map","item","index","image","parseInt","similarity","posturl"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\nimport axios from 'axios'\nimport {proxyAddr}  from './ProxyAddr'\n\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardFooter,\n  CProgress,\n  CCol,\n  CRow,\n  CImage,\n  CSpinner,\n  CFormInput,\n  CInputGroup,\n} from '@coreui/react'\naxios.defaults.withCredentials = true;\n\n\nimport CIcon from '@coreui/icons-react'\nimport {\n  cibTwitter,\n  cilUser,\n  cilMagnifyingGlass,\n} from '@coreui/icons'\n\nChart.register(...registerables);\n\n\nvar arr_posts;\nvar search_keyword = \"\";\n\nexport const DrawChart = () => {\n  const [keywdBtn, setKeywdBtn] = useState({disabledInput: false, disabledBtn: false, text: 'submit'})\n  const [posts, setPosts] = useState([])\n  const [x, getX] = useState([])\n  const [btnColor, setColor] = useState(btnColors)\n  const url = proxyAddr()\n  const chartRef = useRef();\n\n  const keywordInputOnchangeHandler = (event) => {\n    search_keyword = event.target.value;\n    console.log(`Input changed: ${search_keyword}`)\n  }\n\n  const keywordBtnClickhandler = (event) => {\n    if (search_keyword !== \"\"){\n      setKeywdBtn({disabledInput: true, disabledBtn: true, text: 'Loading..'})\n      console.log(search_keyword);\n      axios\n      .get(`${url}keyword-search/get`, {\n        params: {\n          start_date: start_date,\n          end_date: end_date,\n          keyword: search_keyword\n        },\n      })\n      .then((response) => {\n        console.log('get response')\n        const flow = response.data.datasets\n        getFlow(flow)\n\n        const x_label = response.data.labels\n        getX(x_label)\n\n        arr_posts = response.data.posts;\n        setKeywdBtn({disabledInput: false, disabledBtn: false, text: 'submit'})\n    })\n      .catch((error) => console.error(`keyword Search Error: ${error}`))\n    }\n    console.log('keywordBtn Clicked!')\n\n  }\n\n\n\n  return (\n      <CCard className=\"mb-4\">\n      <CButton color=\"warning\" onClick={() => window.open('http://ark10806.iptime.org:6006')} className=\"d-grid gap-2\">\n        <CIcon icon={cilMagnifyingGlass} />3D Plot : Visualize Clusters\n      </CButton>\n        <CCardFooter>\n            <hr/>\n          <div>키워드는 짧은 단어 \"Trump\" 대신 \"Donald Trump the president of United States\" 같이 문장으로 제공할 때 좋은 검색 성능을 보입니다.  </div>\n\n            <CInputGroup>\n              <CFormInput disabled={keywdBtn.disabledInput} onChange={keywordInputOnchangeHandler} placeholder=\"Search twit by your own keyword (ex. vaccination for covid-19.)\" aria-label=\"Recipient's username with two button addons\"/>\n              <CButton disabled={keywdBtn.disabledBtn} onClick={keywordBtnClickhandler} type=\"button\" color=\"secondary\" variant=\"outline\">{toggleKeyword()}{keywdBtn.text}</CButton>\n            </CInputGroup>\n          {/* </CRow> */}\n\n        </CCardFooter>\n        <CCardBody>\n          <CRow>\n            <CCol sm={5}>\n              <h4 id=\"traffic\" className=\"card-title mb-0\">\n                Trends\n              </h4>\n              <div className=\"small text-medium-emphasis\">January - December 2021</div>\n              <div className=\"small text-medium-emphasis\">그래프의 각 지점을 클릭하여 관련 포스트들을 확인하실 수 있습니다.</div>\n              <div className=\"small text-medium-emphasis\">각 클러스터의 범례(legend)를 클릭하여 일부 클러스터를 보이지 않게 할 수 있습니다</div>\n              <div className=\"small text-medium-emphasis\">각 클러스터는 위의 3D Plotly 버튼을 통해 시각적으로 확인할 수 있습니다.</div>\n            </CCol>\n            <CCol sm={7} className=\"d-none d-md-block\">\n            </CCol>\n          </CRow>\n\n          <br/>\n          {posts.map((item, index) => (\n            <CRow key={index}>\n              <br/>\n              <hr/>\n              <br/>\n              <CCol key=\"0\">\n                  <CImage rounded thumbnail src={item.image} width='500vw' />\n              </CCol>\n              <CCol key=\"1\">\n                <div className=\"border-start border-start-4 border-start-danger py-1 px-3 mb-3\">\n                  <div>{item.text}</div>\n                </div>\n                <div className=\"progress-group mb-4\">\n                  <div className=\"progress-group-header\">\n                    <CIcon className=\"me-2\" icon={cilUser} size=\"lg\" />\n                    <span>Cluster Similarity</span>\n                    <span className=\"ms-auto fw-semibold\">{parseInt(item.similarity*100)}%</span>\n                  </div>\n                  <div className=\"progress-group-bars\">\n                    <CProgress thin color=\"success\" value={parseInt(item.similarity*100)} />\n                  </div>\n                </div>\n                <CButton color=\"#00aced\" onClick={() => window.open(item.posturl)} className=\"float-end\">\n                  <CIcon icon={cibTwitter} />see post\n                </CButton>\n              </CCol>\n              <br/>\n            </CRow>\n          ))}\n\n        </CCardBody>\n      </CCard>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}